Things to fix in the current decoder.

- get_register_state sometimes gets called when the register passed to it is bx + di. figure out a good way to separate the registers before calling the function. @rase
- when the instruction is E.g mov al, [bx + si] (happens with other ones too) the registers don't get updated correctly. bx + si should be fetched from memory. @rase